webpackJsonp([1],{230:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(298),i=s(r),o=a(583),n=s(o),l=a(581),d=s(l),u=a(582),c=s(u),m=a(584),f=s(m),p=a(587),_=s(p),g=a(586),h=s(g),v=a(589),y=s(v),b=a(591),F=s(b),w=a(588),k=s(w),$=a(590),x=s($),S=a(585),C=s(S),D=new i.default;D.set("PermissionsManage",_.default),D.set("PermissionsManage",_.default),D.set("DepartmentManage",h.default),D.set("RoleManage",y.default),D.set("UserMnage",F.default),D.set("PositionManage",k.default),D.set("System",x.default),D.set("ModifyPwd",C.default);var P=[{path:"/login",component:n.default,name:"",leaf:!1,hidden:!0},{path:"/404",component:d.default,name:"",leaf:!1,hidden:!0},{path:"/",component:c.default,name:"欢迎页",hidden:!0,leaf:!1,children:[{path:"/Main",component:f.default,name:"主页",hidden:!0}]},{path:"*",hidden:!0,leaf:!1,redirect:{path:"/404"}}],L=JSON.parse(sessionStorage.getItem("menu"));if(Array.isArray(L)){L.map(function(e,t){if("2"==e.type){var a={path:"/",component:c.default,name:e.name,leaf:!1};if(null!=e.sub_menu&&e.sub_menu.length>0)a.children=[],e.sub_menu.map(function(e,t){var s=(e.access_flags||"").substring(1),r={path:e.access_flags,component:D.get(s),name:e.name};a.children.push(r)});else{a.leaf=!0;var s=(e.access_flags||"").substring(1);a.children=[{path:e.access_flags,component:D.get(s),name:e.name}]}P.push(a)}})}t.default=P},231:function(e,t,a){"use strict";function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(21),o=r(i),n=a(158),l=r(n),d=a(294),u=s(d),c=a(295),m=s(c);o.default.use(l.default);var f={count:10},p={INCREMENT:function(e){e.count++},DECREMENT:function(e){e.count--}};t.default=new l.default.Store({actions:u,getters:m,state:f,mutations:p})},234:function(e,t){},235:function(e,t){},236:function(e,t,a){a(574);var s=a(15)(a(279),a(604),null,null);e.exports=s.exports},279:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app",components:{}}},280:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(580),r=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default={name:"tree_ui",data:function(){return{list:this.data}},props:["data","checkNode"],components:{node:r.default}}},281:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"items",props:["model"],data:function(){return{}},methods:{}}},282:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{sysName:"AMC",collapsed:!1,sysUserName:"",system_list:[]}},methods:{onSubmit:function(){console.log("submit!")},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},handleselect:function(e,t){},logout:function(){var e=this;this.$confirm("确认退出吗?","提示",{}).then(function(){sessionStorage.removeItem("userInfo"),e.$router.push("/login")}).catch(function(){})},collapse:function(){this.collapsed=!this.collapsed},showMenu:function(e,t){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+e)[0].style.display=t?"block":"none"}},mounted:function(){var e=sessionStorage.getItem("userInfo");e&&(e=JSON.parse(e),this.sysUserName=e.username||"");var t=sessionStorage.getItem("systemList");t&&(this.system_list=JSON.parse(t))}}},283:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(297),i=s(r),o=a(43),n=s(o),l=a(41);t.default={data:function(){return{logining:!1,ruleForm2:{account:"",checkPass:""},rules2:{account:[{required:!0,message:"请输入账号",trigger:"blur"}],checkPass:[{required:!0,message:"请输入密码",trigger:"blur"}]},checked:!0}},methods:{handleReset2:function(){this.$refs.ruleForm2.resetFields()},handleSubmit2:function(e){var t=this;this.$refs.ruleForm2.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.logining=!0;var a={username:t.ruleForm2.account,password:t.ruleForm2.checkPass};(0,l.login)(a).then(function(e){t.logining=!1,e.status?(t.checked&&n.default.setCookie("account",t.ruleForm2.account),sessionStorage.setItem("userInfo",(0,i.default)(e.data.user_info)),sessionStorage.setItem("systemList",(0,i.default)(e.data.system_list)),sessionStorage.setItem("menu",(0,i.default)(e.data.menu)),t.$router.push({path:"/Main"}),window.location.reload(!0)):t.$message({message:e.retinfo,type:"error"})})})}},mounted:function(){var e=n.default.getCookie("account");""!=e&&(this.ruleForm2.account=e)}}},284:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{content:"欢迎使用权限管理后台！"}}}},285:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(43),i=(s(r),a(42)),o=(s(i),a(41));t.default={data:function(){return{modifyForm:{olPwd:"",newPwd:"",newPwd2:""},modifyFormRules:{olPwd:[{required:!0,message:"请输入旧密码",trigger:"blur"}],newPwd:[{required:!0,message:"请输入新密码",trigger:"blur"}],newPwd2:[{required:!0,message:"请再次确认密码",trigger:"blur"}]}}},methods:{CheckPwd:function(){console.log(this.modifyForm)},ModifyPwd:function(){var e=this,t={username:sessionStorage.getItem("user_id"),old_password:this.modifyForm.olPwd,new_password:this.modifyForm.newPwd};return this.modifyForm.newPwd!=this.modifyForm.newPwd2?(this.$message({message:"两次密码不一致",type:"error"}),!1):0==/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,18}$/.test(t.new_password)?(this.$message({message:"密码由6-18字母和数字组成，不能是纯数字或纯英文",type:"error"}),!1):t.old_password==t.new_password?(this.$message({message:"新密码不能与旧密码相同",type:"error"}),!1):void(0,o.editPwd)(t).then(function(t){if(t.status){e.$message({message:"修改成功，即将重新登陆。",type:"success"});var a=e;window.setTimeout(function(){a.$router.push({path:"/login"})},1e3)}else e.$message({message:t.retinfo,type:"error"})})}}}},286:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(50),i=s(r),o=a(43),n=(s(o),a(42)),l=s(n),d=a(41),u={name:[{required:!0,message:"请输入部门名称",trigger:"blur"}]};t.default={data:function(){return{filters:{search_word:""},datalist:[],total:0,page:1,pageSize:l.default.pageSize,listLoading:!1,editFormVisible:!1,editLoading:!1,editFormRules:u,editForm:{department_id:0,name:"",desc:""},addFormVisible:!1,addLoading:!1,addFormRules:u,addForm:{name:"",desc:""}}},methods:{handleCurrentChange:function(e){this.page=e,this.getData()},getData:function(){var e=this,t={page:this.page,page_size:this.pageSize,search_word:this.filters.search_word};this.listLoading=!0,(0,d.getDepartment)(t).then(function(t){t.status?(e.total=parseInt(t.data.total||0,10),e.datalist=t.data.list):e.$message({message:t.retinfo,type:"error"}),e.listLoading=!1})},handleDel:function(e){var t=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){var a={department_id:e};(0,d.removeDepartment)(a).then(function(e){e.status?(t.$message({message:"删除成功",type:"success"}),t.getData()):t.$message({message:e.retinfo,type:"error"})})}).catch(function(){})},handleEdit:function(e){this.editFormVisible=!0,this.editForm=(0,i.default)({},this.datalist[e])},handleAdd:function(){this.addFormVisible=!0,this.addForm={name:"",desc:""}},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t=(0,i.default)({},e.editForm);(0,d.editDepartment)(t).then(function(t){e.editLoading=!1,t.status?(e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.getData()):e.$message({message:t.retinfo,type:"error"})})})})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.addLoading=!0;var t=(0,i.default)({},e.addForm);(0,d.addDepartment)(t).then(function(t){t.status?(e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getData()):e.$message({message:t.retinfo,type:"error"}),e.addLoading=!1})})})}},mounted:function(){this.getData()}}},287:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(50),i=s(r),o=a(43),n=(s(o),a(42)),l=s(n),d=a(41),u={system_id:[{required:!0,message:"请选择所属系统",trigger:"blur"}],name:[{required:!0,message:"请输入模块名称",trigger:"blur"}],access_flags:[{required:!0,message:"请输入链接地址",trigger:"blur"}],type:[{required:!0,message:"请选择模块类型",trigger:"blur"}]};t.default={data:function(){return{filters:{system_id:"0",search_word:"",status:"0"},datalist:[],total:0,page:1,listLoading:!1,editFormVisible:!1,editLoading:!1,editFormRules:u,pageSize:l.default.pageSize,editForm:{authority_id:"",pid:0,name:"",type:"",system_id:"",access_flags:"",show_flags:""},addFormVisible:!1,addLoading:!1,addFormRules:u,addForm:{pid:0,name:"",type:"",system_id:"",access_flags:"",status:"1",show_flags:""},system_array:[],modul_array:[],query_status_array:l.default.query.status,status_array:l.default.use.status,modul_type:l.default.use.modulType}},methods:{formatPName:function(e){return""==e.p_name?"--":e.p_name},formatStatus:function(e,t){var a=l.default.use.status,s="未知";return a.map(function(t,a){s=t.id==e.status?t.name:s}),s},formatType:function(e,t){var a="未知";return this.modul_type.map(function(t,s){a=t.id==e.type?t.name:a}),a},handleCurrentChange:function(e){this.page=e,this.getData()},getModul:function(e){var t=this;if(null==e||""==e)return!1;(0,d.getAllModul)({system_id:e,column_id:"0"}).then(function(e){if(e.status){var a=e.data.lists;a.push({id:"0",name:"无上级栏目",pid:"0"}),t.modul_array=a}else t.$message({message:e.retinfo,type:"error"})})},getSystem:function(){var e=this;(0,d.getAllSystem)({}).then(function(t){t.status?e.system_array=t.data.lists:e.$message({message:t.retinfo,type:"error"})})},getData:function(){var e=this,t=(0,i.default)({},this.filters);t.page=this.page,t.page_size=this.page_size,this.listLoading=!0,(0,d.getAuthority)(t).then(function(t){t.status?(e.total=parseInt(t.data.total||0,10),e.datalist=t.data.list):e.$message({message:t.retinfo,type:"error"}),e.listLoading=!1})},handleDel:function(e){var t=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){t.listLoading=!0;var a={authority_id:e};(0,d.removeAuthority)(a).then(function(e){t.listLoading=!1,e.status?(t.$message({message:"删除成功",type:"success"}),t.getData()):t.$message({message:e.retinfo,type:"error"})})}).catch(function(){})},handleEdit:function(e,t){this.editFormVisible=!0,console.log(t),this.editForm=(0,i.default)({},t)},handleAdd:function(){this.addFormVisible=!0,this.addForm={pid:"",name:"",type:"",system_id:"0"==this.filters.system_id?"":this.filters.system_id,access_flags:"",status:"1",show_flags:""}},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t=(0,i.default)({},e.editForm);(0,d.editAuthority)(t).then(function(t){t.status?(e.$message({message:"提交成功",type:"success"}),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.getData()):e.$message({message:t.retinfo,type:"error"}),e.editLoading=!1})})})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.addLoading=!0;var t=(0,i.default)({},e.addForm);(0,d.addAuthority)(t).then(function(t){e.addLoading=!1,t.status?(e.$message({message:"提交成功",type:"success"}),e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getData()):e.$message({message:t.retinfo,type:"error"})})})})}},mounted:function(){this.filters.system_id=this.$route.params.System_id,this.getData(),this.getSystem()},watch:{"editForm.system_id":function(e){this.getModul(e)},"addForm.system_id":function(e){this.getModul(e)}}}},288:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(50),i=s(r),o=a(43),n=(s(o),a(42)),l=s(n),d=a(41),u={name:[{required:!0,message:"请输入职位名称",trigger:"blur"}]};t.default={data:function(){return{filters:{search_word:"",department_id:"0"},datalist:[],total:0,page:1,pageSize:l.default.pageSize,listLoading:!1,editFormVisible:!1,editLoading:!1,editFormRules:u,editForm:{position_id:"",department_id:"",pid:"",name:"",desc:"",roles:[]},addFormVisible:!1,addLoading:!1,addFormRules:u,addForm:{pid:"",department_id:"",name:"",desc:"",roles:[]},department_list:[],system_array:[],select_array:[]}},methods:{getSelectRole:function(){var e=[];return this.select_array.map(function(t,a){""!=t.role_id&&e.push(t)}),e},handleCurrentChange:function(e){this.page=e,this.getData()},getSystem:function(){var e=this;(0,d.getAllSystem)({}).then(function(t){if(t.status){var a=[];(t.data.lists||[]).map(function(e,t){a.push({system_id:e.system_id,role_id:""})}),e.select_array=a,e.system_array=t.data.lists}else e.$message({message:t.retinfo,type:"error"})})},getAllDepartment:function(){var e=this;(0,d.getAllDepartment)({}).then(function(t){t.status?e.department_list=t.data.lists:e.$message({message:t.retinfo,type:"error"})})},getData:function(){var e=this,t={page:this.page,page_size:this.pageSize,search_word:this.filters.search_word,department_id:this.filters.department_id};this.listLoading=!0,(0,d.getPosition)(t).then(function(t){t.status?(e.total=parseInt(t.data.total||0,10),e.datalist=t.data.list):e.$message({message:t.retinfo,type:"error"}),e.listLoading=!1})},getSystem_Role:function(e){var t=[];return(e||[]).map(function(e,a){var s=e.split("$");t.push({system_id:s[0],role_id:s[1]})}),t},handleDel:function(e){var t=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){var a={position_id:e};removeDepartment(a).then(function(e){e.status?(t.$message({message:"删除成功",type:"success"}),t.getData()):t.$message({message:e.retinfo,type:"error"})})}).catch(function(){})},handleEdit:function(e){var t=this;(0,d.getPositionInfo)({position_id:e}).then(function(e){e.status?(t.editForm={position_id:e.data.position_id,name:e.data.name,desc:e.data.desc,department_id:e.data.department_id},t.select_array.map(function(t,a){t.role_id="",e.data.system_role.map(function(e,a){t.system_id==e.system_id&&(t.role_id=e.role_id)})}),console.log(t.select_array),t.editFormVisible=!0):t.$message({message:e.retinfo,type:"error"})})},handleAdd:function(){this.addFormVisible=!0,this.addForm={name:"",department_id:"",desc:""};var e=this.select_array;e.map(function(e,t){e.role_id=""}),this.select_array=e},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t=(0,i.default)({},e.editForm);t.system_role=e.getSelectRole(),0==t.system_role.length&&e.$message({message:"请选择改职位对应的角色",type:"error"}),(0,d.editPosition)(t).then(function(t){t.status?(e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.getData()):e.$message({message:t.retinfo,type:"error"}),e.editLoading=!1})})})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.addLoading=!0;var t=(0,i.default)({},e.addForm);t.system_role=e.getSelectRole(),0==t.system_role.length&&e.$message({message:"请选择改职位对应的角色",type:"error"}),(0,d.addPosition)(t).then(function(t){t.status?(e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getData()):e.$message({message:t.retinfo,type:"error"}),e.addLoading=!1})})})}},mounted:function(){this.filters.department_id=null==this.$route.params.Id?"0":this.$route.params.Id,this.getData(),this.getSystem(),this.getAllDepartment()}}},289:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(300),i=s(r),o=a(303),n=s(o),l=a(50),d=s(l),u=a(43),c=(s(u),a(42)),m=s(c),f=a(292),p=(s(f),a(41)),_={name:[{required:!0,message:"请输入角色名",trigger:"blur"}],system_id:[{required:!0,message:"请选择所属系统",trigger:"blur"}]};t.default={data:function(){return{filters:{search_word:"",system_id:""},datalist:[],total:0,page:1,pageSize:m.default.pageSize,listLoading:!1,editFormVisible:!1,editLoading:!1,editFormRules:_,editForm:{name:"",system_id:"",status:"",role_id:"",desc:"",authority_id:[],isRenderEditTree:!1},addFormVisible:!1,addLoading:!1,addFormRules:_,addForm:{name:"",system_id:"",status:"1"},status_array:m.default.use.status,system_array:[],authority_tree:[],isRenderEditTree:!1,_test:[]}},methods:{formatStatus:function(e,t){var a=m.default.use.status,s="未知";return a.map(function(t,a){s=t.id==e.status?t.name:s}),s},handleCurrentChange:function(e){this.page=e,this.getData()},getSystem:function(){var e=this;(0,p.getAllSystem)({}).then(function(t){t.status?e.system_array=t.data.lists:e.$message({message:t.retinfo,type:"error"})})},getAuthorityTrre:function(e){var t=this;if(""==e)return!1;var a={system_id:e};if(null==e||""==e)return!1;(0,p.getAuthorityTrre)(a).then(function(e){e.status?(t.authority_tree=Array.isArray(e.data)?e.data:[],console.log("load data...")):t.$message({message:e.retinfo,type:"error"})})},getSelectTree:function(){var e=[];return this.editFormVisible?e=this.$refs.editTrre.getCheckedKeys():this.addFormVisible&&(e=this.$refs.addTrre.getCheckedKeys()),0==e.length?e:(this.authority_tree.map(function(t,a){(t.children||[]).map(function(t,a){e.includes(t.id)&&!e.includes(t.pid)&&e.push(t.pid)})}),e)},getData:function(){var e=this,t=(0,d.default)({},this.filters);t.page=this.page,t.page_size=this.page_size,this.listLoading=!0,(0,p.getRole)(t).then(function(t){t.status?(e.total=parseInt(t.data.total||0,10),e.datalist=t.data.list):e.$message({message:t.retinfo,type:"error"}),e.listLoading=!1})},handleDel:function(e){var t=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){t.listLoading=!0;var a={role_id:e};(0,p.removeRole)(a).then(function(e){e.status?(t.$message({message:"删除成功",type:"success"}),t.getData()):t.$message({message:e.retinfo,type:"error"}),t.listLoading=!1})}).catch(function(){})},handleEdit:function(e,t){var a=this,s={role_id:t.role_id};(0,p.getRoleInfo)(s).then(function(e){if(e.status){var t=e.data;a.editForm.name=t.name,a.editForm.system_id=t.system_id,a.editForm.status=t.status,a.editForm.role_id=t.role_id,a.editForm.desc=t.desc,a.editForm.authority_id=t.authority_id,a.editForm.isRenderEditTree=!1,a.editFormVisible=!0}else a.$message({message:e.retinfo,type:"error"})})},handleAdd:function(){this.addFormVisible=!0,this.addForm={name:"",system_id:"0"==this.filters.system_id?"":this.filters.system_id,desc:"",status:"1"}},removeParentNodRemove:function(e,t){var a=[];return function e(s){s.forEach(function(s){var r=parseInt(s.id||0,10),i=parseInt(s.pid||0,10);t.includes(r)&&0!=i&&a.push(i),Array.isArray(s.children)&&s.children.length>0&&e(s.children)})}(e),a=[].concat((0,n.default)(new i.default(a))),a.forEach(function(e){t=m.default.arrayRemove(t,e)}),t},removeParentNodAdd:function(e,t){var a=[];!function e(s){s.forEach(function(s){var r=s.pids,i=s.id;t.includes(i)&&a.push(r+"#"+i),Array.isArray(s.children)&&s.children.length>0&&e(s.children)})}(e),console.log("解析前：",a);var s=[];return a.forEach(function(e){e.split("#").forEach(function(e){""!=e&&s.push(parseInt(e,10))})}),s=[].concat((0,n.default)(new i.default(s)))},RenderEditTree:function(){var e=this;if(!this.editForm.isRenderEditTree){var t=this.authority_tree,a=this.editForm.authority_id;if(!Array.isArray(t)||0==t.length||!Array.isArray(a)||0==a.length)return[];var s=this.removeParentNodRemove(t,a);return this.$nextTick(function(){e.$refs.editTrre.setCheckedKeys(s),e.editForm.isRenderEditTree=!0,console.log("渲染属性节点：",s)}),s}},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t=(0,d.default)({},e.editForm),a=e.$refs.editTrre.getCheckedKeys();t.authority_id=e.removeParentNodRemove(e.authority_tree,a),console.log("提交修改：",t.authority_id),(0,p.eidtRole)(t).then(function(t){t.status?(e.$message({message:"提交成功",type:"success"}),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.getData()):e.$message({message:t.retinfo,type:"error"}),e.editLoading=!1})})})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.addLoading=!0;var t=(0,d.default)({},e.addForm);t.authority_id=e.getSelectTree(),(0,p.addRole)(t).then(function(t){t.status?(e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getData()):e.$message({message:t.retinfo,type:"error"}),e.addLoading=!1})})})}},mounted:function(){this.filters.system_id=this.$route.params.System_id,this.getSystem(),this.getData()},watch:{"editForm.system_id":function(e){""!=e&&this.getAuthorityTrre(e)},"addForm.system_id":function(e){""!=e&&this.getAuthorityTrre(e)},authority_tree:function(e){this.RenderEditTree()},"editForm.role_id":function(e){this.RenderEditTree()},editFormVisible:function(e){!1===e&&(this.isRenderEditTree=!1)}}}},290:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(50),i=s(r),o=a(43),n=(s(o),a(42)),l=s(n),d=a(41),u={name:[{required:!0,message:"请输入系统名称",trigger:"blur"}],url:[{required:!0,message:"请输入系统地址",trigger:"blur"}]};t.default={data:function(){return{filters:{search_word:""},datalist:[],total:0,page:1,pageSize:l.default.pageSize,listLoading:!1,editFormVisible:!1,editLoading:!1,editFormRules:u,editForm:{system_id:"",name:"",system_desc:"",url:""},addFormVisible:!1,addLoading:!1,addFormRules:u,addForm:{name:"",system_desc:"",url:""}}},methods:{handleCurrentChange:function(e){this.page=e,this.getData()},getData:function(){var e=this,t={page:this.page,page_size:this.pageSize,search_word:this.filters.search_word};this.listLoading=!0,(0,d.getSystem)(t).then(function(t){t.status?(e.total=parseInt(t.data.total||0,10),e.datalist=t.data.list):e.$message({message:t.retinfo,type:"error"}),e.listLoading=!1})},handleDel:function(e){var t=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){var a={system_id:e};(0,d.removeSystem)(a).then(function(e){e.status?(t.$message({message:"删除成功",type:"success"}),sssss,t.getData()):t.$message({message:e.retinfo,type:"error"})})}).catch(function(){})},handleEdit:function(e){var t=this.datalist[e];this.editFormVisible=!0,this.editForm=(0,i.default)({},t)},handleAdd:function(){this.addFormVisible=!0,this.addForm={name:"",system_desc:"",url:""}},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t=(0,i.default)({},e.editForm);(0,d.editSystem)(t).then(function(t){t.status?(e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.getData()):e.$message({message:t.retinfo,type:"error"}),e.editLoading=!1})})})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.addLoading=!0;var t=(0,i.default)({},e.addForm);(0,d.addSystem)(t).then(function(t){t.status?(e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getData()):e.$message({message:t.retinfo,type:"error"}),e.addLoading=!1})})})}},mounted:function(){this.getData()}}},291:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(50),i=s(r),o=a(43),n=(s(o),a(42)),l=s(n),d=a(41),u={department_id:[{required:!0,message:"请选择所属部门",trigger:"blur"}],position_id:[{required:!0,message:"请选择所属职位",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]};t.default={data:function(){return{filters:{search_word:""},datalist:[],total:0,page:1,listLoading:!1,editFormVisible:!1,editLoading:!1,editFormRules:u,pageSize:l.default.pageSize,editForm:{user_id:"",real_name:"",department_id:"",position_id:"",city_id:"",user_desc:"",phone:"",email:""},city_array:l.default.use.cityArray,department_list:[],position_list:[],user_status_array:l.default.use.userStatus}},methods:{formatStatus:function(e){var t="--";return this.user_status_array.map(function(a,s){t=a.id==e.is_lock?a.name:t}),t},handleCurrentChange:function(e){this.page=e,this.getData()},getDepartment:function(){var e=this;(0,d.getAllDepartment)({}).then(function(t){t.status?e.department_list=t.data.lists:e.$message({message:t.retinfo,type:"error"})})},getPosition:function(){var e=this,t={department_id:this.editForm.department_id};(0,d.getPositionByDID)(t).then(function(t){t.status?e.position_list=t.data.lists:e.$message({message:t.retinfo,type:"error"})})},getData:function(){var e=this,t={page:this.page,name:this.filters.name,search_word:this.filters.search_word};this.listLoading=!0,(0,d.getUserList)(t).then(function(t){t.status?(e.datalist=t.data.list,e.total=parseInt(t.data.total||0,10)):e.$message({message:t.retinfo,type:"error"}),e.listLoading=!1})},handleEdit:function(e){var t=this;(0,d.getUserInfo)({user_id:e}).then(function(e){if(e.status){var a=e.data;t.editForm={user_id:a.user_id,real_name:a.real_name,department_id:a.department_id,position_id:a.position_id,city_id:"1",user_desc:a.user_desc,phone:a.phone,email:a.email,is_lock:a.is_lock},t.editFormVisible=!0}else t.$message({message:e.retinfo,type:"error"})})},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){var t=(0,i.default)({},e.editForm);if(0==/^([0-9]){7,11}$/.test(t.phone))return e.$message({message:"请输入正确的手机号码",type:"error"}),!1;e.editLoading=!0,(0,d.editUser)(t).then(function(t){t.status?(e.$message({message:"提交成功",type:"success"}),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.getData()):e.$message({message:t.retinfo,type:"error"}),e.editLoading=!1})})})},resetPwd:function(e){var t=this;this.$confirm("确认重置该账号的密码吗？","提示",{}).then(function(){var a={user_id:e};(0,d.resetPwd)(a).then(function(e){if(e.status){var a="重置密码成功，新密码："+e.data.password;t.$alert(a,"重置密码",{confirmButtonText:"确定",callback:function(e){console.log("重置密码成功")}})}else t.$message({message:e.retinfo,type:"error"})})})},usersyncBoss:function(){var e=this;(0,d.usersyncBoss)({}).then(function(t){t.status?e.$message({message:"同步成功",type:"success"}):e.$message({message:t.retinfo,type:"error"})})}},mounted:function(){this.getData(),this.getDepartment()},watch:{"editForm.department_id":function(e){this.getPosition()}}}},292:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(579),r=function(e){return e&&e.__esModule?e:{default:e}}(s);r.default.install=function(e){e.component(r.default.name,r.default)},t.default=r.default},293:function(e,t,a){"use strict";(function(e){function t(e){return e&&e.__esModule?e:{default:e}}var s=a(232),r=(t(s),a(21)),i=t(r),o=a(236),n=t(o),l=a(233),d=t(l);a(234);var u=a(237),c=t(u),m=a(231),f=t(m),p=a(158),_=t(p),g=a(230),h=t(g);a(235),i.default.use(d.default),i.default.use(c.default),i.default.use(_.default);var v=new c.default({base:e,routes:h.default});v.beforeEach(function(e,t,a){"/login"==e.path&&sessionStorage.removeItem("userInfo"),sessionStorage.getItem("userInfo")||"/login"==e.path?a():a({path:"/login"})}),v.afterEach(function(e){}),new i.default({router:v,store:f.default,render:function(e){return e(n.default)}}).$mount("#app")}).call(t,"/")},294:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.increment=function(e){(0,e.commit)("INCREMENT")},t.decrement=function(e){(0,e.commit)("DECREMENT")}},295:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getCount=function(e){return e.count}},41:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.editUser=t.getUserInfo=t.getUserList=t.getRoleInfo=t.removeRole=t.eidtRole=t.addRole=t.getRole=t.getAuthorityTrre=t.removeAuthority=t.editAuthority=t.addAuthority=t.getAuthority=t.getPositionInfo=t.removePosition=t.editPosition=t.addPosition=t.getPosition=t.getPositionByDID=t.editDepartment=t.addDepartment=t.removeDepartment=t.getDepartment=t.getAllDepartment=t.usersyncBoss=t.resetPwd=t.editPwd=t.removeSystem=t.getSystemInfo=t.editSystem=t.addSystem=t.getSystem=t.getAllSystem=t.getAllModul=t.login=void 0;var r=a(299),i=s(r),o=a(260),n=s(o),l=a(42),d=s(l),u=["authlogin","authregistersystem"],c=function(e,t,a){var s={head:d.default.paramsHead,params:{}};s.head.interface=e;var r="http://api-amc.huishoubao.com.cn"+t;if(!u.includes(e)){var i=sessionStorage.getItem("user_id"),o=sessionStorage.getItem("token");if(!i||!o)return console.log("登陆超时"),!1;a.login_user_id=i,a.login_token=o,a.login_system_id=d.default.current_system_id}return s.params=a,n.default.post(r,s).then(function(e){return e})},m=function(e){if(200!=e.status||null==e.data.body)return{status:!1,retcode:"",retinfo:"系统异常"};var t=d.default.resArray,a=e.data.body;return a.status=!1,t.map(function(e,t){e.retcode==a.retcode&&(a.status=e.status,a.retinfo=e.retinfo)}),"10005"==a.retcode&&(window.location.href="/#/login"),a};n.default.interceptors.request.use(function(e){return e},function(e){return console.log(e),i.default.reject(e)}),n.default.interceptors.response.use(function(e){return e=m(e)},function(e){return console.log(e),i.default.reject(e)});var f=function(e){return c("authlogin","/authlogin",e)},p=function(e){return c("authregistersystem","/authregistersystem",e)},_=function(e){return c("logininfo","/logininfo",e)};t.login=function(e){return e.system_id=d.default.current_system_id,f(e).then(function(e){if(!e.status)return e;sessionStorage.setItem("user_id",e.data.user_id),sessionStorage.setItem("token",e.data.login_token);var t={token:e.data.login_token,user_id:e.data.user_id,system_id:d.default.current_system_id};return p(t)}).then(function(e){return e.status?_({}):e})},t.getAllModul=function(e){return c("columnselect","/columnselect",e)},t.getAllSystem=function(e){return c("systemselect","/systemselect",e)},t.getSystem=function(e){return c("systemlists","/systemlists",e)},t.addSystem=function(e){return c("systemadd","/systemadd",e)},t.editSystem=function(e){return c("systemedit","/systemedit",e)},t.getSystemInfo=function(e){return c("systeminfo","/systeminfo",e)},t.removeSystem=function(e){return c("systemdel","/systemdel",e)},t.editPwd=function(e){return c("editpassword","/editpassword",e)},t.resetPwd=function(e){return c("resetpassword","/resetpassword",e)},t.usersyncBoss=function(e){return c("usersyncboss","/usersyncboss",e)},t.getAllDepartment=function(e){return c("departmentselect","/departmentselect",e)},t.getDepartment=function(e){return c("departmentlists","/departmentlists",e)},t.removeDepartment=function(e){return c("departmentdel","/departmentdel",e)},t.addDepartment=function(e){return c("departmentadd","/departmentadd",e)},t.editDepartment=function(e){return c("departmentedit","/departmentedit",e)},t.getPositionByDID=function(e){return c("positionselect","/positionselect",e)},t.getPosition=function(e){return c("positionlists","/positionlists",e)},t.addPosition=function(e){return c("positionadd","/positionadd",e)},t.editPosition=function(e){return c("positionedit","/positionedit",e)},t.removePosition=function(e){return c("positiondel","/positiondel",e)},t.getPositionInfo=function(e){return c("positioninfo","/positioninfo",e)},t.getAuthority=function(e){return c("authoritylists","/authoritylists",e)},t.addAuthority=function(e){return c("authorityadd","/authorityadd",e)},t.editAuthority=function(e){return c("authorityedit","/authorityedit",e)},t.removeAuthority=function(e){return c("authoritydel","/authoritydel",e)},t.getAuthorityTrre=function(e){return c("authoritytree","/authoritytree",e)},t.getRole=function(e){return c("rolelists","/rolelists",e)},t.addRole=function(e){return c("roleadd","/roleadd",e)},t.eidtRole=function(e){return c("roleedit","/roleedit",e)},t.removeRole=function(e){return c("roledel","/roledel",e)},t.getRoleInfo=function(e){return c("roleinfo","/roleinfo",e)},t.getUserList=function(e){return c("userlists","/userlists",e)},t.getUserInfo=function(e){return c("userinfo","/userinfo",e)},t.editUser=function(e){return c("useredit","/useredit",e)}},42:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={query:{status:[{id:"0",name:"全部"},{id:"1",name:"开启"},{id:"2",name:"关闭"}],userStatus:[{id:"0",name:"全部"},{id:"1",name:"正常"},{id:"2",name:"锁定"}]},use:{status:[{id:"1",name:"开启"},{id:"2",name:"锁定"}],userStatus:[{id:"1",name:"正常"},{id:"2",name:"禁用"}],modulType:[{id:"1",name:"权限"},{id:"2",name:"菜单"}],cityArray:[{id:"1101",name:"北京"},{id:"4403",name:"深圳"}]},pageSize:20,resArray:[{retcode:"0",status:!0,retinfo:"正确"}],paramsHead:{msgtype:"request",remark:"",version:"0.01"},current_system_id:"1",generalStr:function(e,t,a){""==t&&a(new Error("内容不能为空")),a()},arrayRemove:function(e,t){var a=[];return e.forEach(function(e,s){e!=t&&a.push(e)}),a}}},43:function(e,t,a){"use strict";function s(e,t){for(var t=t-(e+"").length,a=0;a<t;a++)e="0"+e;return e}Object.defineProperty(t,"__esModule",{value:!0});var r=/([yMdhsm])(\1*)/g;t.default={getQueryStringByName:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(t),s="";return null!=a&&(s=a[2]),t=null,a=null,null==s||""==s||"undefined"==s?"":s},formatDate:{format:function(e,t){return t=t||"yyyy-MM-dd",t.replace(r,function(t){switch(t.charAt(0)){case"y":return s(e.getFullYear(),t.length);case"M":return s(e.getMonth()+1,t.length);case"d":return s(e.getDate(),t.length);case"w":return e.getDay()+1;case"h":return s(e.getHours(),t.length);case"m":return s(e.getMinutes(),t.length);case"s":return s(e.getSeconds(),t.length)}})},parse:function(e,t){var a=t.match(r),s=e.match(/(\d)+/g);if(a.length==s.length){for(var i=new Date(1970,0,1),o=0;o<a.length;o++){var n=parseInt(s[o]);switch(a[o].charAt(0)){case"y":i.setFullYear(n);break;case"M":i.setMonth(n-1);break;case"d":i.setDate(n);break;case"h":i.setHours(n);break;case"m":i.setMinutes(n);break;case"s":i.setSeconds(n)}}return i}return null}},conversion_trre:function(e){if(null==e||0==e.length)return e},setCookie:function(e,t,a,s,r,i){var o=e+"="+escape(t)+(a?"; expires="+a.toGMTString():"")+(s?"; path="+s:"")+(r?"; domain="+r:"")+(i?"; secure":"");document.cookie=o},getCookie:function(e){var t=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),a=document.cookie.match(t);return a?a[1]:""}}},565:function(e,t){},566:function(e,t){},567:function(e,t){},568:function(e,t){},569:function(e,t){},570:function(e,t){},571:function(e,t){},572:function(e,t){},573:function(e,t){},574:function(e,t){},575:function(e,t){},579:function(e,t,a){var s=a(15)(a(280),a(593),null,null);e.exports=s.exports},580:function(e,t,a){var s=a(15)(a(281),a(599),null,null);e.exports=s.exports},581:function(e,t,a){a(570);var s=a(15)(null,a(597),"data-v-25101813",null);e.exports=s.exports},582:function(e,t,a){a(565),a(566);var s=a(15)(a(282),a(592),"data-v-035d9434",null);e.exports=s.exports},583:function(e,t,a){a(575);var s=a(15)(a(283),a(605),"data-v-f38c4e38",null);e.exports=s.exports},584:function(e,t,a){a(569);var s=a(15)(a(284),a(596),"data-v-1fd7a80e",null);e.exports=s.exports},585:function(e,t,a){var s=a(15)(a(285),a(600),null,null);e.exports=s.exports},586:function(e,t,a){a(567);var s=a(15)(a(286),a(594),"data-v-08364732",null);e.exports=s.exports},587:function(e,t,a){a(573);var s=a(15)(a(287),a(603),"data-v-c12cce84",null);e.exports=s.exports},588:function(e,t,a){a(572);var s=a(15)(a(288),a(601),"data-v-5689d109",null);e.exports=s.exports},589:function(e,t,a){a(571);var s=a(15)(a(289),a(598),null,null);e.exports=s.exports},590:function(e,t,a){var s=a(15)(a(290),a(602),null,null);e.exports=s.exports},591:function(e,t,a){a(568);var s=a(15)(a(291),a(595),"data-v-1a144730",null);e.exports=s.exports},592:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"container"},[a("el-col",{staticClass:"header",attrs:{span:24}},[a("el-col",{staticClass:"logo",class:e.collapsed?"logo-collapse-width":"logo-width",attrs:{span:10}},[e._v("\n\t\t\t"+e._s(e.collapsed?"":e.sysName)+"\n\t\t")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"tools",on:{click:function(t){t.preventDefault(),e.collapse(t)}}},[a("i",{staticClass:"fa fa-align-justify"})])]),e._v(" "),a("el-col",{staticClass:"userinfo",attrs:{span:4}},[a("el-dropdown",{attrs:{trigger:"hover"}},[a("span",{staticClass:"el-dropdown-link userinfo-inner"},[e._v(e._s(e.sysUserName)+" "),a("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){e.logout(t)}}},[e._v("退出登录")])],1)],1)],1)],1),e._v(" "),a("el-col",{staticClass:"main",attrs:{span:24}},[a("aside",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"","default-active":e.$route.path,collapse:e.collapsed},on:{open:e.handleOpen,close:e.handleClose}},[e._l(e.system_list,function(t,s){return a("el-menu-item",{attrs:{index:e.$route.path}},[a("a",{staticClass:"non-trace",attrs:{href:t.url,target:"_blank"}},[e._v(e._s(t.name))])])}),e._v(" "),a("el-menu-item",{attrs:{index:e.$route.path}},[a("a",{staticClass:"non-trace",attrs:{href:"http://www.baidu.com",target:"_blank"}},[e._v("AMC")])]),e._v(" "),e._l(e.$router.options.routes,function(t,s){return t.hidden?e._e():[0==t.leaf?[a("el-submenu",{attrs:{index:"index+''"}},[a("template",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-menu"}),e._v("\n\t\t     \t\t\t\t\t"+e._s(t.name)+"\n\t\t     \t\t\t\t")]),e._v(" "),e._l(t.children,function(t,s){return t.hidden?e._e():a("el-menu-item",{attrs:{index:t.path}},[e._v("\n\t\t     \t\t\t\t\t"+e._s(t.name)+"\n\t\t     \t\t\t\t")])})],2)]:[e._l(t.children,function(t,s){return[t.hidden?e._e():a("el-menu-item",{attrs:{index:t.path}},[a("i",{staticClass:"el-icon-menu"}),e._v("\n\t\t\t     \t\t\t\t"+e._s(t.name)+"\n\t\t\t     \t\t\t")])]})]]})],2)],1),e._v(" "),a("section",{staticClass:"content-container"},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},e._l(e.$route.matched,function(t){return a("el-breadcrumb-item",{key:t.path},[e._v("\n\t\t\t\t\t\t\t"+e._s(t.name)+"\n\t\t\t\t\t\t")])})),e._v(" "),a("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]}},593:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("node",{attrs:{data:e.list},on:{"update:data":function(t){e.list=t}}})],1)},staticRenderFns:[]}},594:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{lable:"名称"}},[a("el-input",{attrs:{placeholder:"部门名称"},model:{value:e.filters.search_word,callback:function(t){e.$set(e.filters,"search_word",t)},expression:"filters.search_word"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:!0,type:"info"},on:{click:e.getData}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:!0,type:"info"},on:{click:e.handleAdd}},[e._v("新增部门")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.datalist,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"name",label:"部门名称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"描述","min-width":"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"添加时间",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_name",label:"添加人","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:!0,type:"info",size:"small"},on:{click:function(a){e.handleEdit(t.$index)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{plain:!0,type:"danger",size:"small"},on:{click:function(a){e.handleDel(t.row.department_id)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑部门",size:"tiny","close-on-click-modal":!1},model:{value:e.editFormVisible,callback:function(t){e.editFormVisible=t},expression:"editFormVisible"}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"ID",prop:"department_id"}},[a("el-input",{attrs:{disabled:!0,"auto-complete":"off"},model:{value:e.editForm.department_id,callback:function(t){e.$set(e.editForm,"department_id",t)},expression:"editForm.department_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"部门名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea",maxlength:10},model:{value:e.editForm.desc,callback:function(t){e.$set(e.editForm,"desc",t)},expression:"editForm.desc"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增部门",size:"tiny","close-on-click-modal":!1},model:{value:e.addFormVisible,callback:function(t){e.addFormVisible=t},expression:"addFormVisible"}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[a("el-form-item",{attrs:{label:"部门名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea",maxlength:10},model:{value:e.addForm.desc,callback:function(t){e.$set(e.addForm,"desc",t)},expression:"addForm.desc"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]}},595:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"系统账号/真实姓名"},model:{value:e.filters.search_word,callback:function(t){e.$set(e.filters,"search_word",t)},expression:"filters.search_word"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:!0,type:"info"},on:{click:e.getData}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{plain:!0,type:"info"},on:{click:e.usersyncBoss}},[e._v("同步BOSS账号")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.datalist,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"username",label:"系统账户",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"real_name",label:"真实姓名",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"department_name",label:"所属部门",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"position_name",label:"职位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"is_lock",label:"状态",formatter:e.formatStatus}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"添加时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_name",label:"添加人",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleEdit(t.row.user_id)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){e.resetPwd(t.row.user_id)}}},[e._v("重置密码")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑用户","close-on-click-modal":!1},model:{value:e.editFormVisible,callback:function(t){e.editFormVisible=t},expression:"editFormVisible"}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"所属部门",prop:"department_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.department_id,callback:function(t){e.$set(e.editForm,"department_id",t)},expression:"editForm.department_id"}},e._l(e.department_list,function(e){return a("el-option",{key:e.department_id,attrs:{label:e.name,value:e.department_id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"所属职位",prop:"position_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.position_id,callback:function(t){e.$set(e.editForm,"position_id",t)},expression:"editForm.position_id"}},e._l(e.position_list,function(e){return a("el-option",{key:e.position_id,attrs:{label:e.name,value:e.position_id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"用户状态",prop:"is_lock"}},[a("el-radio-group",{model:{value:e.editForm.is_lock,callback:function(t){e.$set(e.editForm,"is_lock",t)},expression:"editForm.is_lock"}},e._l(e.user_status_array,function(t){return a("el-radio",{key:t.id,staticClass:"radio",attrs:{label:t.id}},[e._v(e._s(t.name))])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"用户描述",prop:"user_desc"}},[a("el-input",{attrs:{maxlength:10,"auto-complete":"off"},model:{value:e.editForm.user_desc,callback:function(t){e.$set(e.editForm,"user_desc",t)},expression:"editForm.user_desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{attrs:{maxlength:11,"auto-complete":"off"},model:{value:e.editForm.phone,callback:function(t){e.$set(e.editForm,"phone",t)},expression:"editForm.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{maxlength:30,"auto-complete":"off"},model:{value:e.editForm.email,callback:function(t){e.$set(e.editForm,"email",t)},expression:"editForm.email"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){e.editSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]}},596:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("p",[e._v("\n\t\t"+e._s(e.content)+"\n    ")])},staticRenderFns:[]}},597:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("p",{staticClass:"page-container"},[e._v("404 page not found")])},staticRenderFns:[]}},598:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{lable:"所属系统"}},[a("el-select",{attrs:{placeholder:"所属系统"},model:{value:e.filters.system_id,callback:function(t){e.$set(e.filters,"system_id",t)},expression:"filters.system_id"}},[a("el-option",{attrs:{label:"全部",value:"0"}}),e._v(" "),e._l(e.system_array,function(e){return a("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})})],2)],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"角色名"},model:{value:e.filters.search_word,callback:function(t){e.$set(e.filters,"search_word",t)},expression:"filters.search_word"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:!0,type:"info"},on:{click:e.getData}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:!0,type:"info"},on:{click:e.handleAdd}},[e._v("新增角色")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.datalist,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"name",label:"角色名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"system_name",label:"所属系统"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"120",formatter:e.formatStatus}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"描述","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"添加时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_name",label:"添加人"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{plain:!0,type:"danger",size:"small"},on:{click:function(a){e.handleDel(t.row.role_id)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑角色","close-on-click-modal":!1},model:{value:e.editFormVisible,callback:function(t){e.editFormVisible=t},expression:"editFormVisible"}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属系统",prop:"system_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.system_id,callback:function(t){e.$set(e.editForm,"system_id",t)},expression:"editForm.system_id"}},e._l(e.system_array,function(e){return a("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.editForm.desc,callback:function(t){e.$set(e.editForm,"desc",t)},expression:"editForm.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},e._l(e.status_array,function(t){return a("el-radio",{key:t.id,staticClass:"radio",attrs:{label:t.id}},[e._v(e._s(t.name))])}))],1)],1)]),e._v(" "),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"grid-content bg-purple trre-box"},[a("el-tree",{ref:"editTrre",attrs:{data:e.authority_tree,"show-checkbox":"","default-expand-all":"","node-key":"id"}})],1)])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增角色","close-on-click-modal":!1},model:{value:e.addFormVisible,callback:function(t){e.addFormVisible=t},expression:"addFormVisible"}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属系统",prop:"system_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.system_id,callback:function(t){e.$set(e.addForm,"system_id",t)},expression:"addForm.system_id"}},e._l(e.system_array,function(e){return a("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.addForm.desc,callback:function(t){e.$set(e.addForm,"desc",t)},expression:"addForm.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},e._l(e.status_array,function(t){return a("el-radio",{key:t.id,staticClass:"radio",attrs:{label:t.id}},[e._v(e._s(t.name))])}))],1)],1)]),e._v(" "),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"grid-content bg-purple trre-box"},[a("el-tree",{ref:"addTrre",attrs:{data:e.authority_tree,"default-expand-all":"","show-checkbox":"","default-checked-keys":[],"node-key":"id"}})],1)])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]}},599:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("div",[e._v("\n         "+e._s(e.model.setCheckedKeys)+"\n    ")]),e._v(" "),a("ul",e._l(e.model.children,function(e){return a("items",{attrs:{model:e}})}))])},staticRenderFns:[]}},600:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"modifyForm",staticStyle:{margin:"20px",width:"400px","min-width":"400px"},attrs:{model:e.modifyForm,"label-width":"80px",rules:e.modifyFormRules}},[a("el-form-item",{attrs:{label:"原始密码",prop:"olPwd"}},[a("el-input",{attrs:{type:"password"},model:{value:e.modifyForm.olPwd,callback:function(t){e.$set(e.modifyForm,"olPwd",t)},expression:"modifyForm.olPwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新密码",prop:"newPwd"}},[a("el-input",{attrs:{type:"password",maxlength:18},model:{value:e.modifyForm.newPwd,callback:function(t){e.$set(e.modifyForm,"newPwd",t)},expression:"modifyForm.newPwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"newPwd2"}},[a("el-input",{attrs:{type:"password",maxlength:18},model:{value:e.modifyForm.newPwd2,callback:function(t){e.$set(e.modifyForm,"newPwd2",t)},expression:"modifyForm.newPwd2"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"     "}},[a("el-button",{staticStyle:{width:"320px"},attrs:{type:"primary"},on:{click:e.ModifyPwd}},[e._v("确认修改")])],1)],1)},staticRenderFns:[]}},601:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{lable:"部门"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.filters.department_id,callback:function(t){e.$set(e.filters,"department_id",t)},expression:"filters.department_id"}},[a("el-option",{attrs:{label:"全部",value:"0"}}),e._v(" "),e._l(e.department_list,function(e){return a("el-option",{key:e.department_id,attrs:{label:e.name,value:e.department_id}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{lable:"名称"}},[a("el-input",{attrs:{placeholder:"名称"},model:{value:e.filters.search_word,callback:function(t){e.$set(e.filters,"search_word",t)},expression:"filters.search_word"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:!0,type:"info"},on:{click:e.getData}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:!0,type:"info"},on:{click:e.handleAdd}},[e._v("新增职位")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.datalist,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"name",label:"职位名称",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"department_name",label:"所属部门",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"描述","min-width":"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"添加时间",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_name",label:"添加人",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:!0,type:"info",size:"small"},on:{click:function(a){e.handleEdit(t.row.position_id)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{plain:!0,type:"danger",size:"small"},on:{click:function(a){e.handleDel(t.row.position_id)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑职位",size:"small","close-on-click-modal":!1},model:{value:e.editFormVisible,callback:function(t){e.editFormVisible=t},expression:"editFormVisible"}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"ID",prop:"position_id"}},[a("el-input",{attrs:{disabled:!0,"auto-complete":"off"},model:{value:e.editForm.position_id,callback:function(t){e.$set(e.editForm,"position_id",t)},expression:"editForm.position_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属部门",prop:"department_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.department_id,callback:function(t){e.$set(e.editForm,"department_id",t)},expression:"editForm.department_id"}},e._l(e.department_list,function(e){return a("el-option",{key:e.department_id,attrs:{label:e.name,value:e.department_id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"职位名称",prop:"name"}},[a("el-input",{attrs:{maxlength:10,"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea",maxlength:50},model:{value:e.editForm.desc,callback:function(t){e.$set(e.editForm,"desc",t)},expression:"editForm.desc"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:10}},e._l(e.system_array,function(t,s){return a("el-col",{key:t.system_id,staticClass:"system-tree",attrs:{span:24}},[a("div",{staticClass:"tree-titel"},[e._v(e._s(t.name))]),e._v(" "),a("div",{staticClass:"tree-content"},[a("el-radio-group",{model:{value:e.select_array[s].role_id,callback:function(t){e.$set(e.select_array[s],"role_id",t)},expression:"select_array[index].role_id"}},[a("ul",e._l(t.role_list,function(t){return a("li",[a("el-radio",{key:t.id,attrs:{label:t.role_id}},[e._v(e._s(t.name))])],1)}))])],1)])}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增职位",size:"small","close-on-click-modal":!1},model:{value:e.addFormVisible,callback:function(t){e.addFormVisible=t},expression:"addFormVisible"}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"所属部门",prop:"department_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.department_id,callback:function(t){e.$set(e.addForm,"department_id",t)},expression:"addForm.department_id"}},e._l(e.department_list,function(e){return a("el-option",{key:e.department_id,attrs:{label:e.name,value:e.department_id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"职位名称",prop:"name"}},[a("el-input",{attrs:{maxlength:10,"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea",maxlength:50},model:{value:e.addForm.desc,callback:function(t){e.$set(e.addForm,"desc",t)},expression:"addForm.desc"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:12}},e._l(e.system_array,function(t,s){return a("el-col",{key:t.system_id,staticClass:"system-tree",attrs:{span:24}},[a("div",{staticClass:"tree-titel"},[e._v(e._s(t.name))]),e._v(" "),a("div",{staticClass:"tree-content"},[a("el-radio-group",{model:{value:e.select_array[s].role_id,callback:function(t){e.$set(e.select_array[s],"role_id",t)},expression:"select_array[index].role_id"}},[a("ul",e._l(t.role_list,function(t){return a("li",[a("el-radio",{key:t.id,attrs:{label:t.role_id}},[e._v(e._s(t.name))])],1)}))])],1)])}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]}},602:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{lable:"名称"}},[a("el-input",{attrs:{placeholder:"系统名称"},model:{value:e.filters.search_word,callback:function(t){e.$set(e.filters,"search_word",t)},expression:"filters.search_word"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:!0,type:"info"},on:{click:e.getData}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:!0,type:"info"},on:{click:e.handleAdd}},[e._v("新增系统")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.datalist,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"name",label:"系统名称",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"url",label:"访问地址","min-width":"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"system_desc",label:"描述","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"添加时间",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_name",label:"添加人",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:!0,type:"info",size:"small"},on:{click:function(a){e.handleEdit(t.$index)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{plain:!0,type:"danger",size:"small"},on:{click:function(a){e.handleDel(t.row.system_id)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑系统",size:"tiny","close-on-click-modal":!1},model:{value:e.editFormVisible,callback:function(t){e.editFormVisible=t},expression:"editFormVisible"}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"系统ID",prop:"system_id"}},[a("el-input",{attrs:{disabled:!0,"auto-complete":"off"},model:{value:e.editForm.system_id,callback:function(t){e.$set(e.editForm,"system_id",t)},expression:"editForm.system_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"访问连接",prop:"url"}},[a("el-input",{model:{value:e.editForm.url,callback:function(t){e.$set(e.editForm,"url",t)},expression:"editForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.editForm.system_desc,callback:function(t){e.$set(e.editForm,"system_desc",t)},expression:"editForm.system_desc"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"btn-cancel",nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticClass:"btn-determine",attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增系统",size:"tiny","close-on-click-modal":!1},model:{value:e.addFormVisible,callback:function(t){e.addFormVisible=t},expression:"addFormVisible"}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[a("el-form-item",{attrs:{label:"系统名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"访问连接",prop:"url"}},[a("el-input",{model:{value:e.addForm.url,callback:function(t){e.$set(e.addForm,"url",t)},expression:"addForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.addForm.system_desc,callback:function(t){e.$set(e.addForm,"system_desc",t)},expression:"addForm.system_desc"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"btn-cancel",nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticClass:"btn-determine",attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]}},603:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{lable:"所属系统"}},[a("el-select",{attrs:{placeholder:"所属系统"},model:{value:e.filters.system_id,callback:function(t){e.$set(e.filters,"system_id",t)},expression:"filters.system_id"}},[a("el-option",{attrs:{label:"全部",value:"0"}}),e._v(" "),e._l(e.system_array,function(e){return a("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{lable:"状态"}},[a("el-select",{attrs:{placeholder:"状态"},model:{value:e.filters.status,callback:function(t){e.$set(e.filters,"status",t)},expression:"filters.status"}},e._l(e.query_status_array,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"模块名称"},model:{value:e.filters.search_word,callback:function(t){e.$set(e.filters,"search_word",t)},expression:"filters.search_word"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:!0,type:"info"},on:{click:e.getData}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:!0,type:"info"},on:{click:e.handleAdd}},[e._v("新增模块")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.datalist,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"system_name",label:"所属系统",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"p_name",label:"所属模块",width:"100",formatter:e.formatPName}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"模块名称","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"access_flags",label:"链接","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100",formatter:e.formatStatus}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"模块类型",width:"100",formatter:e.formatType}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"添加时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_name",label:"添加人",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:!0,type:"info",size:"small"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{plain:!0,type:"danger",size:"small"},on:{click:function(a){e.handleDel(t.row.authority_id)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑模块",size:"tiny","close-on-click-modal":!1},model:{value:e.editFormVisible,callback:function(t){e.editFormVisible=t},expression:"editFormVisible"}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"ID",prop:"authority_id"}},[a("el-input",{attrs:{disabled:!0,"auto-complete":"off"},model:{value:e.editForm.authority_id,callback:function(t){e.$set(e.editForm,"authority_id",t)},expression:"editForm.authority_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属系统",prop:"system_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.system_id,callback:function(t){e.$set(e.editForm,"system_id",t)},expression:"editForm.system_id"}},e._l(e.system_array,function(e){return a("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"所属模块",prop:"pid"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.pid,callback:function(t){e.$set(e.editForm,"pid",t)},expression:"editForm.pid"}},e._l(e.modul_array,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"模块类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.type,callback:function(t){e.$set(e.editForm,"type",t)},expression:"editForm.type"}},e._l(e.modul_type,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"模块名称",prop:"name"}},[a("el-input",{attrs:{maxlength:20,"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"链接",prop:"access_flags"}},[a("el-input",{attrs:{maxlength:50,"auto-complete":"off"},model:{value:e.editForm.access_flags,callback:function(t){e.$set(e.editForm,"access_flags",t)},expression:"editForm.access_flags"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},e._l(e.status_array,function(t){return a("el-radio",{key:t.id,staticClass:"radio",attrs:{label:t.id}},[e._v(e._s(t.name))])}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增模块",size:"tiny","close-on-click-modal":!1},model:{value:e.addFormVisible,callback:function(t){e.addFormVisible=t},expression:"addFormVisible"}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px",rules:e.addFormRules}},[a("el-form-item",{attrs:{label:"所属系统",prop:"system_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.system_id,callback:function(t){e.$set(e.addForm,"system_id",t)},expression:"addForm.system_id"}},e._l(e.system_array,function(e){return a("el-option",{key:e.system_id,attrs:{label:e.name,value:e.system_id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"所属模块",prop:"pid"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.pid,callback:function(t){e.$set(e.addForm,"pid",t)},expression:"addForm.pid"}},e._l(e.modul_array,function(e){return a("el-option",{key:e.column_id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"模块类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},e._l(e.modul_type,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"模块名称",prop:"name"}},[a("el-input",{attrs:{maxlength:20,"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"链接",prop:"access_flags"}},[a("el-input",{attrs:{maxlength:50,"auto-complete":"off"},model:{value:e.addForm.access_flags,callback:function(t){e.$set(e.addForm,"access_flags",t)},expression:"addForm.access_flags"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},e._l(e.status_array,function(t){return a("el-radio",{key:t.id,staticClass:"radio",attrs:{label:t.id}},[e._v(e._s(t.name))])}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]}},604:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)},staticRenderFns:[]}},605:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm login-container",attrs:{model:e.ruleForm2,rules:e.rules2,"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"title"},[e._v("系统登录")]),e._v(" "),a("el-form-item",{attrs:{prop:"account"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.ruleForm2.account,callback:function(t){e.$set(e.ruleForm2,"account",t)},expression:"ruleForm2.account"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"checkPass"}},[a("el-input",{attrs:{type:"password",maxlength:18,"auto-complete":"off",placeholder:"密码"},model:{value:e.ruleForm2.checkPass,callback:function(t){e.$set(e.ruleForm2,"checkPass",t)},expression:"ruleForm2.checkPass"}})],1),e._v(" "),a("el-checkbox",{staticClass:"remember",attrs:{checked:""},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住账号")]),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},nativeOn:{click:function(t){t.preventDefault(),e.handleSubmit2(t)}}},[e._v("登录")])],1)],1)},staticRenderFns:[]}}},[293]);
//# sourceMappingURL=app.a6f1114e501f948dc976.js.map